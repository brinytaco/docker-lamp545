<VirtualHost *:80>
    ServerName magento.localhost
    ServerAlias magento.localhost
    DocumentRoot /var/www/html

    <Directory "/var/www/html">
        DirectoryIndex index.php
        FallbackResource /index.php
        Options -Indexes +FollowSymLinks
        AllowOverride FileInfo All
        Require all granted
    </Directory>

    <Directory "/var/www/logs">
        AllowOverride None
        Options None
        Require all denied
    </Directory>

</VirtualHost>

<VirtualHost *:443>
    ServerName magento.localhost
    ServerAlias magento.localhost
    DocumentRoot /var/www/html

    SSLEngine on
    SSLCertificateFile "/var/www/certs/magento.localhost.crt"
    SSLCertificateKeyFile "/var/www/certs/magento.localhost.key"

    <Directory "/var/www/html">
        DirectoryIndex index.php
        FallbackResource /index.php
        Options -Indexes +FollowSymLinks
        AllowOverride FileInfo All
        Require all granted
    </Directory>

    <Directory "/var/www/logs">
        AllowOverride None
        Options None
        Require all denied
    </Directory>

    SetEnvIf Authorization "(.*)" HTTP_AUTHORIZATION=$1
    
</VirtualHost>
